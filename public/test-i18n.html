<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NeoN VJ - Internationalization Test</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap');
        body { font-family: 'Inter', sans-serif; }
        
        .flag-icon {
            width: 24px;
            height: 18px;
            display: inline-block;
            margin-right: 8px;
            border-radius: 2px;
            font-size: 16px;
            text-align: center;
            line-height: 18px;
        }
        
        .language-selector {
            transition: all 0.3s ease;
        }
        
        .language-selector:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }
        
        .fade-in {
            animation: fadeIn 0.3s ease-in;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
    </style>
</head>
<body class="bg-gray-900 text-white min-h-screen">
    <!-- Language Selector Bar -->
    <div class="bg-black/50 backdrop-blur-sm border-b border-gray-800 sticky top-0 z-20">
        <div class="container mx-auto px-4 py-3">
            <div class="flex items-center justify-between">
                <h3 class="text-sm font-semibold text-gray-400">Language / è¨€èª / è¯­è¨€</h3>
                <div class="flex gap-2 flex-wrap">
                    <button onclick="changeLanguage('ja')" data-lang="ja" 
                            class="language-selector px-3 py-1.5 bg-gray-800 hover:bg-purple-600 rounded-lg text-sm transition flex items-center">
                        <span class="flag-icon">ğŸ‡¯ğŸ‡µ</span>
                        <span>æ—¥æœ¬èª</span>
                    </button>
                    <button onclick="changeLanguage('en')" data-lang="en"
                            class="language-selector px-3 py-1.5 bg-gray-800 hover:bg-purple-600 rounded-lg text-sm transition flex items-center">
                        <span class="flag-icon">ğŸ‡ºğŸ‡¸</span>
                        <span>English</span>
                    </button>
                    <button onclick="changeLanguage('zh-Hans')" data-lang="zh-Hans"
                            class="language-selector px-3 py-1.5 bg-gray-800 hover:bg-purple-600 rounded-lg text-sm transition flex items-center">
                        <span class="flag-icon">ğŸ‡¨ğŸ‡³</span>
                        <span>ç®€ä½“</span>
                    </button>
                    <button onclick="changeLanguage('zh-Hant')" data-lang="zh-Hant"
                            class="language-selector px-3 py-1.5 bg-gray-800 hover:bg-purple-600 rounded-lg text-sm transition flex items-center">
                        <span class="flag-icon">ğŸ‡¹ğŸ‡¼</span>
                        <span>ç¹é«”</span>
                    </button>
                    <button onclick="changeLanguage('ko')" data-lang="ko"
                            class="language-selector px-3 py-1.5 bg-gray-800 hover:bg-purple-600 rounded-lg text-sm transition flex items-center">
                        <span class="flag-icon">ğŸ‡°ğŸ‡·</span>
                        <span>í•œêµ­ì–´</span>
                    </button>
                    <button onclick="changeLanguage('fr')" data-lang="fr"
                            class="language-selector px-3 py-1.5 bg-gray-800 hover:bg-purple-600 rounded-lg text-sm transition flex items-center">
                        <span class="flag-icon">ğŸ‡«ğŸ‡·</span>
                        <span>FranÃ§ais</span>
                    </button>
                    <button onclick="changeLanguage('es')" data-lang="es"
                            class="language-selector px-3 py-1.5 bg-gray-800 hover:bg-purple-600 rounded-lg text-sm transition flex items-center">
                        <span class="flag-icon">ğŸ‡ªğŸ‡¸</span>
                        <span>EspaÃ±ol</span>
                    </button>
                    <button onclick="changeLanguage('th')" data-lang="th"
                            class="language-selector px-3 py-1.5 bg-gray-800 hover:bg-purple-600 rounded-lg text-sm transition flex items-center">
                        <span class="flag-icon">ğŸ‡¹ğŸ‡­</span>
                        <span>à¹„à¸—à¸¢</span>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Header -->
    <header class="bg-black/50 backdrop-blur-sm border-b border-gray-800">
        <div class="container mx-auto px-4 py-4">
            <div class="flex items-center justify-between">
                <div>
                    <h1 id="eventName" class="text-xl font-semibold">Loading...</h1>
                    <div class="flex items-center gap-2 text-sm text-gray-400">
                        <span>ğŸ“…</span>
                        <span id="eventDate">2025/01/23</span>
                        <span>â€¢</span>
                        <span id="songCount">0 songs</span>
                    </div>
                </div>
                <button onclick="shareEvent()" 
                        id="shareButton"
                        class="px-4 py-2 bg-purple-600 hover:bg-purple-700 rounded-lg text-sm font-medium transition">
                    Share
                </button>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="container mx-auto px-4 py-6 max-w-2xl">
        <!-- DJ Filter -->
        <div class="mb-6">
            <select id="djFilter" 
                    onchange="filterByDJ()"
                    class="w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white">
                <option value="all" data-i18n="filter.all">All DJs</option>
            </select>
        </div>

        <!-- Playlist Container -->
        <div id="playlistContainer" class="space-y-2">
            <!-- Sample songs will be inserted here -->
        </div>

        <!-- Empty State -->
        <div id="emptyState" class="text-center py-12 hidden">
            <p class="text-gray-400" data-i18n="empty.message">No songs played yet...</p>
        </div>

        <!-- Notice -->
        <div class="mt-8 bg-yellow-900/20 border border-yellow-800 rounded-lg p-4">
            <p class="text-yellow-200 text-sm">
                <span data-i18n="notice.recognition">âš ï¸ Songs that failed recognition may not be displayed</span><br>
                <span data-i18n="notice.deletion">ğŸ—“ï¸ This page will be automatically deleted after 30 days</span>
            </p>
        </div>

        <!-- Language Info -->
        <div class="mt-6 bg-purple-900/20 border border-purple-800 rounded-lg p-4">
            <h3 class="text-purple-300 font-semibold mb-2" data-i18n="info.title">Language Settings</h3>
            <p class="text-purple-200 text-sm">
                <span data-i18n="info.current">Current Language</span>: 
                <span id="currentLangDisplay" class="font-mono bg-purple-800/50 px-2 py-1 rounded">ja</span>
            </p>
            <p class="text-purple-200 text-sm mt-2">
                <span data-i18n="info.stored">Stored in localStorage</span>: 
                <code class="font-mono bg-purple-800/50 px-2 py-1 rounded">neon-vj-language</code>
            </p>
        </div>
    </main>

    <!-- Footer -->
    <footer class="mt-auto border-t border-gray-800 bg-black/50">
        <div class="container mx-auto px-4 py-6 text-center">
            <p class="text-gray-400 text-sm" data-i18n="footer.powered">
                Powered by NeoN VJ
            </p>
            <p class="text-gray-500 text-xs mt-1">
                Â© 2025 SMYLE | Produced by NeoN
            </p>
        </div>
    </footer>

    <script>
        // Translations object for all 8 languages
        const translations = {
            'ja': {
                'event.name': 'ãƒ†ã‚¹ãƒˆã‚¤ãƒ™ãƒ³ãƒˆ',
                'event.songs': 'æ›²',
                'share.button': 'ã‚·ã‚§ã‚¢',
                'share.title': 'NeoN VJ ãƒ©ã‚¤ãƒ–ãƒ—ãƒ¬ã‚¤ãƒªã‚¹ãƒˆ',
                'share.text': 'ã“ã®ã‚¤ãƒ™ãƒ³ãƒˆã®ãƒ—ãƒ¬ã‚¤ãƒªã‚¹ãƒˆã‚’ãƒã‚§ãƒƒã‚¯ï¼',
                'share.copied': 'URLã‚’ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸï¼',
                'filter.all': 'ã™ã¹ã¦ã®DJ',
                'empty.message': 'ã¾ã æ¥½æ›²ãŒå†ç”Ÿã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚æœ€åˆã®æ¥½æ›²ã‚’ãŠå¾…ã¡ãã ã•ã„...',
                'notice.recognition': 'âš ï¸ èªè­˜ã«å¤±æ•—ã—ãŸæ¥½æ›²ã¯è¡¨ç¤ºã•ã‚Œãªã„å ´åˆãŒã‚ã‚Šã¾ã™',
                'notice.deletion': 'ğŸ—“ï¸ ã“ã®ãƒšãƒ¼ã‚¸ã¯30æ—¥å¾Œã«è‡ªå‹•å‰Šé™¤ã•ã‚Œã¾ã™',
                'info.title': 'è¨€èªè¨­å®š',
                'info.current': 'ç¾åœ¨ã®è¨€èª',
                'info.stored': 'ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ä¿å­˜',
                'footer.powered': 'Powered by NeoN VJ',
                'now.tag': 'å†ç”Ÿä¸­'
            },
            'en': {
                'event.name': 'Test Event',
                'event.songs': 'songs',
                'share.button': 'Share',
                'share.title': 'NeoN VJ Live Playlist',
                'share.text': 'Check out this event playlist!',
                'share.copied': 'URL copied to clipboard!',
                'filter.all': 'All DJs',
                'empty.message': 'No songs played yet. Waiting for the first song...',
                'notice.recognition': 'âš ï¸ Songs that failed recognition may not be displayed',
                'notice.deletion': 'ğŸ—“ï¸ This page will be automatically deleted after 30 days',
                'info.title': 'Language Settings',
                'info.current': 'Current Language',
                'info.stored': 'Stored in localStorage',
                'footer.powered': 'Powered by NeoN VJ',
                'now.tag': 'Now Playing'
            },
            'zh-Hans': {
                'event.name': 'æµ‹è¯•æ´»åŠ¨',
                'event.songs': 'é¦–æ­Œæ›²',
                'share.button': 'åˆ†äº«',
                'share.title': 'NeoN VJ ç°åœºæ’­æ”¾åˆ—è¡¨',
                'share.text': 'æŸ¥çœ‹è¿™ä¸ªæ´»åŠ¨çš„æ’­æ”¾åˆ—è¡¨ï¼',
                'share.copied': 'URLå·²å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼',
                'filter.all': 'æ‰€æœ‰DJ',
                'empty.message': 'è¿˜æ²¡æœ‰æ’­æ”¾æ­Œæ›²ã€‚ç­‰å¾…ç¬¬ä¸€é¦–æ­Œæ›²...',
                'notice.recognition': 'âš ï¸ è¯†åˆ«å¤±è´¥çš„æ­Œæ›²å¯èƒ½ä¸ä¼šæ˜¾ç¤º',
                'notice.deletion': 'ğŸ—“ï¸ æ­¤é¡µé¢å°†åœ¨30å¤©åè‡ªåŠ¨åˆ é™¤',
                'info.title': 'è¯­è¨€è®¾ç½®',
                'info.current': 'å½“å‰è¯­è¨€',
                'info.stored': 'å­˜å‚¨åœ¨æœ¬åœ°å­˜å‚¨ä¸­',
                'footer.powered': 'ç”± NeoN VJ æä¾›æ”¯æŒ',
                'now.tag': 'æ­£åœ¨æ’­æ”¾'
            },
            'zh-Hant': {
                'event.name': 'æ¸¬è©¦æ´»å‹•',
                'event.songs': 'é¦–æ­Œæ›²',
                'share.button': 'åˆ†äº«',
                'share.title': 'NeoN VJ ç¾å ´æ’­æ”¾æ¸…å–®',
                'share.text': 'æŸ¥çœ‹é€™å€‹æ´»å‹•çš„æ’­æ”¾æ¸…å–®ï¼',
                'share.copied': 'URLå·²è¤‡è£½åˆ°å‰ªè²¼ç°¿ï¼',
                'filter.all': 'æ‰€æœ‰DJ',
                'empty.message': 'é‚„æ²’æœ‰æ’­æ”¾æ­Œæ›²ã€‚ç­‰å¾…ç¬¬ä¸€é¦–æ­Œæ›²...',
                'notice.recognition': 'âš ï¸ è­˜åˆ¥å¤±æ•—çš„æ­Œæ›²å¯èƒ½ä¸æœƒé¡¯ç¤º',
                'notice.deletion': 'ğŸ—“ï¸ æ­¤é é¢å°‡åœ¨30å¤©å¾Œè‡ªå‹•åˆªé™¤',
                'info.title': 'èªè¨€è¨­å®š',
                'info.current': 'ç›®å‰èªè¨€',
                'info.stored': 'å„²å­˜åœ¨æœ¬æ©Ÿå„²å­˜ä¸­',
                'footer.powered': 'ç”± NeoN VJ æä¾›æ”¯æ´',
                'now.tag': 'æ­£åœ¨æ’­æ”¾'
            },
            'ko': {
                'event.name': 'í…ŒìŠ¤íŠ¸ ì´ë²¤íŠ¸',
                'event.songs': 'ê³¡',
                'share.button': 'ê³µìœ ',
                'share.title': 'NeoN VJ ë¼ì´ë¸Œ í”Œë ˆì´ë¦¬ìŠ¤íŠ¸',
                'share.text': 'ì´ ì´ë²¤íŠ¸ì˜ í”Œë ˆì´ë¦¬ìŠ¤íŠ¸ë¥¼ í™•ì¸í•˜ì„¸ìš”!',
                'share.copied': 'URLì´ í´ë¦½ë³´ë“œì— ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!',
                'filter.all': 'ëª¨ë“  DJ',
                'empty.message': 'ì•„ì§ ì¬ìƒëœ ê³¡ì´ ì—†ìŠµë‹ˆë‹¤. ì²« ë²ˆì§¸ ê³¡ì„ ê¸°ë‹¤ë¦¬ëŠ” ì¤‘...',
                'notice.recognition': 'âš ï¸ ì¸ì‹ì— ì‹¤íŒ¨í•œ ê³¡ì€ í‘œì‹œë˜ì§€ ì•Šì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤',
                'notice.deletion': 'ğŸ—“ï¸ ì´ í˜ì´ì§€ëŠ” 30ì¼ í›„ ìë™ìœ¼ë¡œ ì‚­ì œë©ë‹ˆë‹¤',
                'info.title': 'ì–¸ì–´ ì„¤ì •',
                'info.current': 'í˜„ì¬ ì–¸ì–´',
                'info.stored': 'ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì— ì €ì¥',
                'footer.powered': 'Powered by NeoN VJ',
                'now.tag': 'ì¬ìƒ ì¤‘'
            },
            'fr': {
                'event.name': 'Ã‰vÃ©nement Test',
                'event.songs': 'chansons',
                'share.button': 'Partager',
                'share.title': 'NeoN VJ Playlist Live',
                'share.text': 'DÃ©couvrez la playlist de cet Ã©vÃ©nement!',
                'share.copied': 'URL copiÃ©e dans le presse-papiers!',
                'filter.all': 'Tous les DJs',
                'empty.message': 'Aucune chanson jouÃ©e. En attente de la premiÃ¨re chanson...',
                'notice.recognition': 'âš ï¸ Les chansons non reconnues peuvent ne pas s\'afficher',
                'notice.deletion': 'ğŸ—“ï¸ Cette page sera automatiquement supprimÃ©e aprÃ¨s 30 jours',
                'info.title': 'ParamÃ¨tres de langue',
                'info.current': 'Langue actuelle',
                'info.stored': 'StockÃ© dans localStorage',
                'footer.powered': 'PropulsÃ© par NeoN VJ',
                'now.tag': 'En cours'
            },
            'es': {
                'event.name': 'Evento de Prueba',
                'event.songs': 'canciones',
                'share.button': 'Compartir',
                'share.title': 'NeoN VJ Lista en Vivo',
                'share.text': 'Â¡Mira la lista de este evento!',
                'share.copied': 'Â¡URL copiada al portapapeles!',
                'filter.all': 'Todos los DJs',
                'empty.message': 'No hay canciones reproducidas. Esperando la primera canciÃ³n...',
                'notice.recognition': 'âš ï¸ Las canciones no reconocidas pueden no mostrarse',
                'notice.deletion': 'ğŸ—“ï¸ Esta pÃ¡gina se eliminarÃ¡ automÃ¡ticamente despuÃ©s de 30 dÃ­as',
                'info.title': 'ConfiguraciÃ³n de idioma',
                'info.current': 'Idioma actual',
                'info.stored': 'Almacenado en localStorage',
                'footer.powered': 'Desarrollado por NeoN VJ',
                'now.tag': 'Reproduciendo'
            },
            'th': {
                'event.name': 'à¸à¸´à¸ˆà¸à¸£à¸£à¸¡à¸—à¸”à¸ªà¸­à¸š',
                'event.songs': 'à¹€à¸à¸¥à¸‡',
                'share.button': 'à¹à¸Šà¸£à¹Œ',
                'share.title': 'NeoN VJ à¹€à¸à¸¥à¸¢à¹Œà¸¥à¸´à¸ªà¸•à¹Œà¸ªà¸”',
                'share.text': 'à¸”à¸¹à¹€à¸à¸¥à¸¢à¹Œà¸¥à¸´à¸ªà¸•à¹Œà¸‚à¸­à¸‡à¸à¸´à¸ˆà¸à¸£à¸£à¸¡à¸™à¸µà¹‰!',
                'share.copied': 'à¸„à¸±à¸”à¸¥à¸­à¸ URL à¹„à¸›à¸¢à¸±à¸‡à¸„à¸¥à¸´à¸›à¸šà¸­à¸£à¹Œà¸”à¹à¸¥à¹‰à¸§!',
                'filter.all': 'DJ à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”',
                'empty.message': 'à¸¢à¸±à¸‡à¹„à¸¡à¹ˆà¸¡à¸µà¹€à¸à¸¥à¸‡à¸—à¸µà¹ˆà¹€à¸¥à¹ˆà¸™ à¸à¸³à¸¥à¸±à¸‡à¸£à¸­à¹€à¸à¸¥à¸‡à¹à¸£à¸...',
                'notice.recognition': 'âš ï¸ à¹€à¸à¸¥à¸‡à¸—à¸µà¹ˆà¹„à¸¡à¹ˆà¸ªà¸²à¸¡à¸²à¸£à¸–à¸£à¸°à¸šà¸¸à¹„à¸”à¹‰à¸­à¸²à¸ˆà¹„à¸¡à¹ˆà¹à¸ªà¸”à¸‡',
                'notice.deletion': 'ğŸ—“ï¸ à¸«à¸™à¹‰à¸²à¸™à¸µà¹‰à¸ˆà¸°à¸–à¸¹à¸à¸¥à¸šà¹‚à¸”à¸¢à¸­à¸±à¸•à¹‚à¸™à¸¡à¸±à¸•à¸´à¸«à¸¥à¸±à¸‡à¸ˆà¸²à¸ 30 à¸§à¸±à¸™',
                'info.title': 'à¸à¸²à¸£à¸•à¸±à¹‰à¸‡à¸„à¹ˆà¸²à¸ à¸²à¸©à¸²',
                'info.current': 'à¸ à¸²à¸©à¸²à¸›à¸±à¸ˆà¸ˆà¸¸à¸šà¸±à¸™',
                'info.stored': 'à¹€à¸à¹‡à¸šà¹ƒà¸™ localStorage',
                'footer.powered': 'à¸‚à¸±à¸šà¹€à¸„à¸¥à¸·à¹ˆà¸­à¸™à¹‚à¸”à¸¢ NeoN VJ',
                'now.tag': 'à¸à¸³à¸¥à¸±à¸‡à¹€à¸¥à¹ˆà¸™'
            }
        };

        // Sample data for testing
        const sampleSongs = [
            { title: 'Blinding Lights', artist: 'The Weeknd', dj_name: 'DJ Alpha', timestamp: new Date(Date.now() - 60000) },
            { title: 'Levitating', artist: 'Dua Lipa', dj_name: 'DJ Beta', timestamp: new Date(Date.now() - 180000) },
            { title: 'Stay', artist: 'The Kid LAROI & Justin Bieber', dj_name: 'DJ Alpha', timestamp: new Date(Date.now() - 300000) },
            { title: 'Good 4 U', artist: 'Olivia Rodrigo', dj_name: 'DJ Gamma', timestamp: new Date(Date.now() - 420000) },
            { title: 'Montero', artist: 'Lil Nas X', dj_name: 'DJ Beta', timestamp: new Date(Date.now() - 540000) }
        ];

        // Current language
        let currentLanguage = localStorage.getItem('neon-vj-language') || detectBrowserLanguage();

        // Detect browser language
        function detectBrowserLanguage() {
            const browserLang = navigator.language.toLowerCase();
            
            // Map browser languages to our supported languages
            if (browserLang.startsWith('ja')) return 'ja';
            if (browserLang.startsWith('ko')) return 'ko';
            if (browserLang.startsWith('fr')) return 'fr';
            if (browserLang.startsWith('es')) return 'es';
            if (browserLang.startsWith('th')) return 'th';
            if (browserLang === 'zh-cn' || browserLang === 'zh-hans') return 'zh-Hans';
            if (browserLang === 'zh-tw' || browserLang === 'zh-hk' || browserLang === 'zh-hant') return 'zh-Hant';
            
            // Default to English
            return 'en';
        }

        // Initialize page
        function initializePage() {
            // Set initial language
            changeLanguage(currentLanguage, false);
            
            // Load sample songs
            displaySongs();
            
            // Update song count
            updateSongCount();
        }

        // Change language
        function changeLanguage(lang, animate = true) {
            currentLanguage = lang;
            localStorage.setItem('neon-vj-language', lang);
            
            // Update HTML lang attribute
            document.documentElement.lang = lang;
            
            // Update all text elements
            const elementsToTranslate = document.querySelectorAll('[data-i18n]');
            elementsToTranslate.forEach(element => {
                const key = element.getAttribute('data-i18n');
                if (translations[lang] && translations[lang][key]) {
                    element.textContent = translations[lang][key];
                    if (animate) {
                        element.classList.add('fade-in');
                    }
                }
            });
            
            // Update specific elements
            document.getElementById('eventName').textContent = translations[lang]['event.name'];
            document.getElementById('shareButton').textContent = translations[lang]['share.button'];
            document.getElementById('currentLangDisplay').textContent = lang;
            
            // Update language selector buttons
            document.querySelectorAll('.language-selector').forEach(btn => {
                btn.classList.remove('bg-purple-600');
                btn.classList.add('bg-gray-800');
            });
            
            const activeBtn = document.querySelector(`[data-lang="${lang}"]`);
            if (activeBtn) {
                activeBtn.classList.remove('bg-gray-800');
                activeBtn.classList.add('bg-purple-600');
            }
            
            // Update song count display
            updateSongCount();
            
            // Refresh songs display to update Now tag
            displaySongs();
        }

        // Update song count
        function updateSongCount() {
            const songCountText = `${sampleSongs.length} ${translations[currentLanguage]['event.songs']}`;
            document.getElementById('songCount').textContent = songCountText;
        }

        // Display songs
        function displaySongs() {
            const container = document.getElementById('playlistContainer');
            container.innerHTML = '';
            
            // Sort by timestamp (newest first)
            const sortedSongs = [...sampleSongs].sort((a, b) => b.timestamp - a.timestamp);
            
            sortedSongs.forEach((song, index) => {
                const songNumber = sortedSongs.length - index;
                const songEl = createSongElement(song, index === 0, songNumber);
                container.appendChild(songEl);
            });
        }

        // Create song element
        function createSongElement(song, isLatest = false, songNumber = 0) {
            const div = document.createElement('div');
            div.className = `bg-gray-800/50 rounded-lg p-4 ${isLatest ? 'border border-purple-500' : ''}`;
            
            // Check if this is the latest song (within 5 minutes)
            let nowTag = '';
            if (isLatest) {
                const minutesElapsed = (Date.now() - song.timestamp) / (1000 * 60);
                if (minutesElapsed <= 5) {
                    nowTag = `<span class="text-yellow-400">[${translations[currentLanguage]['now.tag']}]</span>`;
                }
            }
            
            div.innerHTML = `
                <div class="font-medium">
                    ${nowTag}
                    ${songNumber}. ${song.title} / ${song.artist} 
                    ${song.dj_name ? `(${song.dj_name})` : ''}
                </div>
            `;
            
            return div;
        }

        // Filter by DJ
        function filterByDJ() {
            // Placeholder for DJ filtering
            displaySongs();
        }

        // Share event
        function shareEvent() {
            const url = window.location.href;
            
            if (navigator.share) {
                navigator.share({
                    title: translations[currentLanguage]['share.title'],
                    text: translations[currentLanguage]['share.text'],
                    url: url
                }).catch(() => {
                    copyToClipboard(url);
                });
            } else {
                copyToClipboard(url);
            }
        }

        // Copy to clipboard
        function copyToClipboard(text) {
            navigator.clipboard.writeText(text).then(() => {
                alert(translations[currentLanguage]['share.copied']);
            });
        }

        // Initialize on load
        window.addEventListener('DOMContentLoaded', initializePage);
    </script>
</body>
</html>